var formigone=formigone||{};formigone.logistic_regression_plot=function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=3)}([function(t,n,e){"use strict";function r(t,n){for(var e=[],r=0;r<t;r++)n instanceof Function?e.push(n(e,r)):e.push(n);return e}function o(t){return"rgb("+((t=parseInt(t,10))>>16&255)+","+(t>>8&255)+","+(255&t)+")"}function i(t,n,e){return parseInt(String("0"+Number(t).toString(16)).slice(-2)+String("0"+Number(n).toString(16)).slice(-2)+String("0"+Number(e).toString(16)).slice(-2),16)}function a(t,n,e,o){var i=r(e*o,0);return i[n*e+t]=1,i}function u(t,n){var e=0;return t.some(function(t,n){return e=n,t>0}),[e%n,parseInt(e/n,10)]}function c(t,n){return[t%n,parseInt(t/n,10)]}Object.defineProperty(n,"__esModule",{value:!0}),n.genArray=r,n.intToRgb=o,n.rgbToInt=i,n.ptToVec=a,n.ptVecToPt=u,n.iToPt=c},,,function(t,n,e){"use strict";function r(t,n){return t.reduce(function(t,e,r){return t+e*n[r]},0)}function o(t){return 1/(1+Math.exp(-t))}function i(t,n){return-1/t.length*t.reduce(function(t,e,r){var o=n[r][0];return o*Math.log(e)+(1-o)*Math.log(1-e)},0)}function a(t){t.clearRect(0,0,window.innerWidth,window.innerHeight)}function u(t,n){n.forEach(function(n){t.fillStyle=n.color,t.fillRect(Math.max(0,n.x-2),Math.max(0,n.y-2),4,4)})}function c(t,n,e,i){for(var a=0;a<i;a++)for(var u=0;u<e;u++)o(r([1,u/100,a/100],n))<.5?t.fillStyle="#b22438":t.fillStyle="#fff9b6",t.fillRect(u,a,1,1)}function s(t,n,e,f,l,h,p,m,d,g,v){var y=t.map(function(t){return o(r(t,e))}),b=y.map(function(t,e){return t-n[e][0]});e=e.map(function(n,e){return n-f*b.reduce(function(n,r,o){return n+r*t[o][e]},0)});var M=i(y,n);l%10==0&&(v.textContent="Epoch = "+l+", Cost = "+M+", Learning Rate = "+f,a(m),c(m,e,d,g),u(m,p)),l<h&&requestAnimationFrame(function(){setTimeout(function(){s(t,n,e,f,l+1,h,p,m,d,g,v)},0)})}function f(t){t instanceof HTMLElement||(t=document.body);var n=document.createElement("button");n.textContent="Start",n.style="display: block;",t.appendChild(n);var e=(0,h.genCanvas)(Math.min(window.innerWidth,600),Math.min(.3*window.innerHeight,300),"log-reg-canvas");t.appendChild(e);var r=e.getContext("2d"),o={yIntercept:e.height/2,slope:Math.random()-.25},i=[],a={pos:"#3c5cff",neg:"#f956ff"},f=document.createElement("p");t.appendChild(f);for(var l=0;l<110;l++){var p=new h.Point(Math.max(6,parseInt(Math.random()*e.width,10)-3),Math.max(6,parseInt(Math.random()*e.height,10)-3),a.pos);p.y<=(0,h.calcY)(p.x,o.slope,o.yIntercept)&&(p.color=a.neg),i.push(p)}var m=i.map(function(t){return[1,t.x/100,t.y/100]}),d=i.map(function(t){var n=t.color;return[Number(n===a.pos)]}),g=m[0].map(function(){return Math.random()});c(r,g,e.width,e.height),u(r,i),n.addEventListener("click",function(){s(m,d,g,.01,0,5e3,i,r,e.width,e.height,f),n.setAttribute("disabled","true")})}Object.defineProperty(n,"__esModule",{value:!0});var l=e(4),h=(function(t){t&&t.__esModule}(l),e(5));n.default=f},function(t,n,e){"use strict";function r(t){this.params=(0,o.genArray)(t+1,function(){return Math.random()})}Object.defineProperty(n,"__esModule",{value:!0});var o=e(0);r.prototype.train=function(t,n,e){for(var r=this,o=e.epochs||10,i=0,a=(e.maxCost,e.learningRate||.05),u=e.logCost||100,c=e.logCallback||function(){},s=t.length,f=a/s;i++<o;){var l=t.map(function(t){return r.score(t)});u>0&&i%u==0&&c({model:this,cost:10,epoch:i,logCost:u});var h=l.map(function(t,e){return t-n[e][0]});this.params=this.params.map(function(n,e){return n-f*h.reduce(function(n,r,o){return n+r*t[o][e]},0)})}},r.prototype.score=function(t){var n=this;if(t.length!==this.params.length)throw new Error("Input size mismatch. Your input must have length of "+this.params.length);var e=t.reduce(function(t,e,r){return t+e*n.params[r]},0);return 1/(1+Math.exp(-e))},r.prototype.getParams=function(){return this.params},r.prototype.setParams=function(t){if(t.length!==this.params.length)throw new Error("Parameters size mismatch. Your list of parameters must have length of "+this.params.length);this.params=t},n.default=r},function(t,n,e){"use strict";function r(t,n,e,r){var o=e.getContext("2d");o.save(),Object.keys(r).forEach(function(t){o[t]=r[t]});var i=t*e.width+n;o.beginPath(),o.moveTo(0,n),o.lineTo(e.width,i),o.stroke(),o.restore()}function o(t,n,e){var r=document.createElement("canvas");return r.width=t,r.height=n,r.className=e,r}function i(t,n,e){return n*t+e}function a(t,n,e){n.save(),Object.keys(e).forEach(function(t){n[t]=e[t]}),n.beginPath(),n.arc(t.x,t.y,e.radius,0,2*Math.PI,!1),n.fillStyle=t.color,n.fill(),n.restore()}function u(t,n,e){this.x=t,this.y=n,this.color=e}Object.defineProperty(n,"__esModule",{value:!0}),n.drawLine=r,n.genCanvas=o,n.calcY=i,n.drawPoint=a,n.Point=u}]);